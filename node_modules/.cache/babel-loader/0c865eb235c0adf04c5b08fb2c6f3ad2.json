{"ast":null,"code":"var _jsxFileName = \"/Users/barnabynapier/Documents/programming/libry/frontend/src/components/CustomNavbar.js\";\nimport React, { useState } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport * as constants from \"../constants\";\nimport \"../styles/CustomNavbar.css\";\nimport { Navbar, NavbarBrand, Nav, NavItem, NavLink, NavbarText, UncontrolledDropdown, DropdownItem, Collapse, DropdownToggle, DropdownMenu } from \"reactstrap\";\nexport default function CustomNavbar() {\n  const history = useHistory();\n  const [user, setUser] = React.useState(\"\");\n  const token = localStorage.getItem(\"token\");\n  const [isOpen, setIsOpen] = useState(false);\n\n  const toggle = () => setIsOpen(!isOpen);\n\n  React.useEffect(() => {\n    if (token) {\n      fetch(constants.dbstring + \"/get-current-user\", {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      }).then(res => res.json()).then(u => {\n        setUser(u[\"username\"]);\n      });\n    }\n  }, [token]);\n  return /*#__PURE__*/React.createElement(Navbar, {\n    className: \"\",\n    color: \"light\",\n    light: true,\n    expand: \"ml\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(NavbarBrand, {\n    href: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }, \"libry\"), /*#__PURE__*/React.createElement(Nav, {\n    className: \"ml-auto\",\n    navbar: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }, user ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"nav\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Collapse, {\n    isOpen: isOpen,\n    navbar: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(UncontrolledDropdown, {\n    nav: true,\n    inNavbar: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(DropdownToggle, {\n    nav: true,\n    caret: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }\n  }, user), /*#__PURE__*/React.createElement(DropdownMenu, {\n    right: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(DropdownItem, {\n    className: \"nav-item-override\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    tag: Link,\n    onClick: () => {\n      localStorage.removeItem(\"token\");\n      history.push(\"/login\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 21\n    }\n  }, \"Log Out\")))))) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"nav\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(NavItem, {\n    className: \"nav-item-override\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    href: \"/login/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 15\n    }\n  }, \"Log In\")), /*#__PURE__*/React.createElement(NavItem, {\n    className: \"nav-item-override\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    href: \"/signup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 15\n    }\n  }, \"Sign Up\")))));\n}","map":{"version":3,"sources":["/Users/barnabynapier/Documents/programming/libry/frontend/src/components/CustomNavbar.js"],"names":["React","useState","Link","useHistory","constants","Navbar","NavbarBrand","Nav","NavItem","NavLink","NavbarText","UncontrolledDropdown","DropdownItem","Collapse","DropdownToggle","DropdownMenu","CustomNavbar","history","user","setUser","token","localStorage","getItem","isOpen","setIsOpen","toggle","useEffect","fetch","dbstring","headers","Authorization","then","res","json","u","removeItem","push"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport * as constants from \"../constants\";\nimport \"../styles/CustomNavbar.css\";\nimport {\n  Navbar,\n  NavbarBrand,\n  Nav,\n  NavItem,\n  NavLink,\n  NavbarText,\n  UncontrolledDropdown,\n  DropdownItem,\n  Collapse,\n  DropdownToggle,\n  DropdownMenu,\n} from \"reactstrap\";\n\nexport default function CustomNavbar() {\n  const history = useHistory();\n  const [user, setUser] = React.useState(\"\");\n  const token = localStorage.getItem(\"token\");\n  const [isOpen, setIsOpen] = useState(false);\n\n  const toggle = () => setIsOpen(!isOpen);\n\n  React.useEffect(() => {\n    if (token) {\n      fetch(constants.dbstring + \"/get-current-user\", {\n        headers: { Authorization: `Bearer ${token}` },\n      })\n        .then((res) => res.json())\n        .then((u) => {\n          setUser(u[\"username\"]);\n        });\n    }\n  }, [token]);\n\n  return (\n    <Navbar className=\"\" color=\"light\" light expand=\"ml\">\n      <NavbarBrand href=\"/\">libry</NavbarBrand>\n\n      <Nav className=\"ml-auto\" navbar>\n        {user ? (\n          <div className=\"nav\">\n            <Collapse isOpen={isOpen} navbar>\n              <UncontrolledDropdown nav inNavbar>\n                <DropdownToggle nav caret>\n                  {user}\n                </DropdownToggle>\n                <DropdownMenu right>\n                  <DropdownItem className=\"nav-item-override\">\n                    <NavLink\n                      tag={Link}\n                      onClick={() => {\n                        localStorage.removeItem(\"token\");\n                        history.push(\"/login\");\n                      }}\n                    >\n                      Log Out\n                    </NavLink>\n                  </DropdownItem>\n                </DropdownMenu>\n              </UncontrolledDropdown>\n            </Collapse>\n          </div>\n        ) : (\n          <div className=\"nav\">\n            <NavItem className=\"nav-item-override\">\n              <NavLink href=\"/login/\">Log In</NavLink>\n            </NavItem>\n\n            <NavItem className=\"nav-item-override\">\n              <NavLink href=\"/signup\">Sign Up</NavLink>\n            </NavItem>\n          </div>\n        )}\n      </Nav>\n    </Navbar>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}